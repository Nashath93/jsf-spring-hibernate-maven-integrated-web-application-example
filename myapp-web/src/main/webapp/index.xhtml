<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>Welcome</title>
</h:head>
<h:body>

	<h:link value="Login" outcome="login" />
	

	<h1>Add new Person</h1>
	<h:form>
		<table>
			<tr>
				<td><h:outputLabel for="name" value="Name: "></h:outputLabel></td>
				<td><h:inputText id="name" value="#{userBean.name}"></h:inputText></td>
			</tr>
			<tr>
				<td><h:outputLabel for="country" value="Country: "></h:outputLabel></td>
				<td><h:inputText id="country" value="#{userBean.country}"></h:inputText></td>
			</tr>
			<tr>
				<td><h:commandButton id="addperson" value="Add Person"
						actionListener="#{userBean.addPerson}"></h:commandButton></td>
			</tr>
		</table>
	
	<h1>List of people</h1>

		<!-- <c:if test="${!empty userBean.listAllPeople()}"> -->
			<table>
				<tr>
					<th><Label>ID</Label></th>
					<th><label>Name</label></th>
					<th><label>Country</label></th>
					<th><label>Action</label></th>
					<th><label>Delete</label></th>
				</tr>
				<ui:repeat var="person" value="${userBean.listAllPeople()}">
					<tr>
						<td><h:commandLink value="${person.id}" action="${userBean.editPerson(person.id)}" ></h:commandLink></td>
						<td><h:outputLabel value="${person.name}"></h:outputLabel></td>
						<td><h:outputLabel value="${person.country}"></h:outputLabel></td>
						<td><h:commandButton value="Update"
								actionListener="#{userBean.updatePerson(person.id)}"></h:commandButton>
						</td>
						<td><h:commandButton value="Delete"
								actionListener="#{userBean.deletePerson(person.id)}"></h:commandButton>
						</td>
					</tr>
				</ui:repeat>
			</table>
		<!-- </c:if> -->
	</h:form>
</h:body>
</html>